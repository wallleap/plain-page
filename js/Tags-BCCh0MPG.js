import{d as f,v as u,a as y,x as g,y as x,z as k,i as s,j as d,F as p,k as m,t as l,A as h,B as v,p as n,b,l as C,m as E}from"./index-CFltwn1q.js";import"./markdown-CGQCjh6-.js";import"./markdown-it-DHWoV2lB.js";import"./markdown-chunk-B5lr28AT.js";const w={key:0},N={class:"flex flex-wrap select-none list-none justify-center gap-x-2 text-gray-400 slide-enter-1"},B=["onClick"],V={key:0,class:"ml-0.4 align-super font-size-2.4 text-gray-300 dark:text-gray-600 group-hover:text-gray-400 dark:hover:text-gray-500"},j={key:0,class:"mt-6 slide-enter-1"},z={key:1,class:"animate-blink animate-iteration-infinite text-center font-size-4 text-gray-400"},O=f({__name:"Tags",setup(T){const i=u([]),c=u([]),r=u([]);y(async()=>{try{i.push(...await g());const e=await x({keyword:""});Object.assign(c,e.posts)}catch(e){console.error("Error fetching data:",e)}}),k(()=>{i.forEach(e=>{e.count=c.filter(o=>o.labels.some(a=>a.id===e.id)).length})});function _(e){r.length=0,c.forEach(o=>{o.labels.forEach(a=>{a.id===e&&r.push(o)})})}return(e,o)=>{const a=v("router-link");return i.length>0?(n(),s("nav",w,[d("ul",N,[(n(!0),s(p,null,m(i,t=>(n(),s("li",{key:t.id,class:"group position-relative cursor-pointer rounded-full px-2 py-1 text-sm hover:text-gray-600 dark:hover:text-gray-300",onClick:F=>_(t.id)},[d("span",null,l(t.name),1),t.count>0?(n(),s("span",V,l(t.count),1)):h("",!0)],8,B))),128))]),r.length>0?(n(),s("ul",j,[d("p",null," 该标签下共有 "+l(r.length)+" 篇文章 ",1),(n(!0),s(p,null,m(r,t=>(n(),s("li",{key:t.id,class:"slide-enter-100"},[b(a,{to:{name:"post",params:{num:Number(t.num)}}},{default:C(()=>[E(l(t.title),1)]),_:2},1032,["to"])]))),128))])):h("",!0)])):(n(),s("p",z," 标签加载中... "))}}});export{O as default};
