import{d as g,r as u,v as y,i as s,j as e,G as p,N as h,O as m,t as l,F as b,k as _,A as x,B as v,p as n,b as f,l as k,y as w}from"./index-CFltwn1q.js";import"./markdown-CGQCjh6-.js";import"./markdown-it-DHWoV2lB.js";import"./markdown-chunk-B5lr28AT.js";const N={class:"line-height-none slide-enter-1000"},z=e("button",{type:"submit",class:"position-absolute right-2 top-50% box-border translate-y--50% cursor-pointer rounded-full border-none bg-gray-200 p-x-3 p-y-2 text-gray-600 dark:bg-gray-700 hover:bg-gray-300 dark:text-gray-500 dark:hover:bg-gray-600"},[e("i",{class:"fa-solid fa-magnifying-glass"})],-1),B={class:"mt-10 text-center font-size-3.6 text-gray-500"},C={key:0},S={key:1},V={key:0,class:"m-0 list-none p-0 text-gray-500 slide-enter-1000 dark:text-gray-400"},F={class:"m-0 font-size-5 font-bold group-hover:text-gray-700 dark:group-hover:text-gray-300"},O={class:"m-0 mt-2 font-size-3.6 text-gray-400 line-height-normal group-hover:text-gray-600 dark:group-hover:text-gray-400"},G=g({__name:"Search",setup(j){const t=u(""),a=y([]);async function d(){const i=await w({keyword:t.value});Object.assign(a,i.posts),a.forEach(r=>{r.summary=`...${r.body.substring(r.body.search(t.value)-40,r.body.indexOf(t.value)+t.value.length+40)}...`}),t.value=""}return(i,r)=>{const c=v("router-link");return n(),s("div",N,[e("form",{class:"position-relative box-border w-100%",onSubmit:m(d,["prevent"])},[p(e("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>t.value=o),type:"text",placeholder:"Search",class:"box-border w-100% rounded-full border-none bg-gray-100 px-5 py-3 font-size-4 text-gray-600 dark:bg-gray-800 dark:text-gray-300 placeholder-gray-400 dark:placeholder-gray-700"},null,512),[[h,t.value]]),z],32),e("p",B,[a.length>0?(n(),s("span",C,"查找到 "+l(a.length)+" 篇文章",1)):(n(),s("span",S,"输入文字搜索文章"))]),e("nav",null,[a.length>0?(n(),s("ul",V,[(n(!0),s(b,null,_(a,o=>(n(),s("li",{key:o.id,class:"group mt-6"},[f(c,{to:{name:"post",params:{num:Number(o.num)}}},{default:k(()=>[e("h2",F,l(o.title),1),e("p",O,l(o.summary),1)]),_:2},1032,["to"])]))),128))])):x("",!0)])])}}});export{G as default};
